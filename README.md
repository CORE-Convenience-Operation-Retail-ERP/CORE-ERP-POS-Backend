# CORE-ERP-POS 백엔드 시스템

## 기상청 공공데이터 API 연동 설정

### 개요
- 매출 분석 차트에서 실제 날씨 데이터를 사용하여 날씨별 매출 분석 기능 제공
- 기상청 공공데이터 포털의 '지상(종관, ASOS) 일자료 조회서비스' API를 활용하여 과거 날짜의 날씨 정보 활용

### 필수 설정
1. 공공데이터포털(https://www.data.go.kr/)에서 계정 생성 및 로그인
2. '기상청_지상(종관, ASOS) 일자료 조회서비스' API 활용 신청
3. 승인 후 발급된 API 키를 `application.properties` 파일에 설정:
   ```
   data.go.kr.api.key=YOUR_API_KEY_HERE
   ```

### 주요 기능
- 특정 날짜의 실제 날씨 정보(맑음, 흐림, 비, 눈 등)를 조회
- 매출 데이터와 날씨 데이터를 연계하여 날씨별 매출 패턴 분석
- 날씨 데이터 캐싱으로 동일 날짜 반복 조회 시 API 호출 최소화
- 과거 기상 관측 데이터를 기반으로 정확한 날씨 정보 제공

### 날씨 상태 분류 기준
- **맑음**: 평균 전운량(avgTca) < 2
- **구름많음**: 평균 전운량(avgTca) 2~6
- **흐림**: 평균 전운량(avgTca) > 6
- **비**: 일강수량(sumRn) > 0
- **눈**: 일 최심적설(ddMes) > 0
- **안개/먼지**: 일기현상(iscs) 필드 기반 판단

### 지점번호 안내
- 서울(108), 부산(159), 대구(143), 인천(112), 광주(156), 대전(133), 울산(152)
- 전체 지점 정보는 API 활용가이드 참조

### 참고사항
- 기상청 ASOS API는 1904년부터 현재까지의 데이터 제공
- 일단위 날씨 정보 기준으로 구현되어 있음
- 더 세분화된 날씨 정보가 필요한 경우 '시간자료 조회서비스' API 추가 활용 가능 